## 灯泡开关

[319. 灯泡开关](https://leetcode-cn.com/problems/bulb-switcher/)

#### 解题思路：模拟分析

首先我们列举下，如果对于10盏灯开关10次的结果：

```
第一次：亮 亮 亮 亮 亮 亮 亮 亮 亮 亮
第二次：亮 灭 亮 灭 亮 灭 亮 灭 亮 灭
第三次：亮 灭 灭 灭 亮 亮 亮 灭 灭 灭
第四次：亮 灭 灭 亮 亮 亮 亮 亮 灭 灭
第五次：亮 灭 灭 亮 灭 亮 亮 亮 灭 亮
第六次：亮 灭 灭 亮 灭 灭 亮 亮 灭 亮
第七次：亮 灭 灭 亮 灭 灭 灭 亮 灭 亮
第八次：亮 灭 灭 亮 灭 灭 灭 灭 灭 亮
第九次：亮 灭 灭 亮 灭 灭 灭 灭 亮 亮
第十次：亮 灭 灭 亮 灭 灭 灭 灭 亮 灭
```

最后结果为：

```
第 1 盏
第 4 盏
第 9 盏
```

是亮着的，而且这些数字的特点为完全平方数；

思考：为什么完全平方数的灯是亮着的？

1. 如果某一盏灯最后的结果是亮着的，那么它被切换了奇数次，因为初始状态灯为灭，也就可以认为第0次灯为灭的状态。所以对于每一盏灯，当拉动次数为奇数，灯亮；灯拉动次数为偶数，灯灭。
2. 每盏灯拉动的次数与它的编号所含约数的个数有关，比如对于编号为4的灯泡来说，4的约数为：`1,2,4`;所以编号为4这盏灯就被拉动了三次。对于每盏灯它的编号有几个约数，这盏灯就被拉动几次。

通过上述结论，我们就可以思考下，对于1～n这些数字中，哪些数的约数是奇数个呢？因为约数都是成对出现的，所以约数为奇数个的数字就是完全平方数!

所以，代码就很简单拉~

#### 代码

*Go*

```go
func bulbSwitch(n int) int {
    if n == 1{
        return 1 
    }
    res := 1
    for res * res <= n {
        res++
    }
    return res - 1
}
```

*JavaScript*

```javascript
var bulbSwitch = function(n) {
    if(n == 1){
        return 1
    }
    let res = 1
    while(res * res <= n){
        res++
    }
    return res - 1
};
```

*Java*

```java
class Solution {
    public int bulbSwitch(int n) {
        int res = 1;
        if(n == 1){
            return 1;
        }    
        while(res * res <= n){
            res++;
        }
        return res - 1;
    }
}
```

